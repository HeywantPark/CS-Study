# 메모리 계층

## 메모리 계층 구조(Memory Hierachy)

![메모리 계층 구조](/OperatingSystem/images/memory1.png)

메모리 계층은 일반적으로 레지스터, 캐시, 주기억장치, 보조기억장치로 구성

> 계층 구조에서 위쪽으로 올라갈수록 CPU 코어에 가까워져 CPU가 메모리에 더 빨리 접근할 수 있으나, 그만큼 저장 용량이 작고 비용이 많이 들어감

- **계층 구조의 목적**

1. 컴퓨터의 설계에 있어 최적의 효율로 서로 다른 여러 종류의 저장 장치를 함께 사용하기 위함

2. 상황에 맞게 여러 저장 장치를 각각 사용할 수 있도록 하여 저렴하고 성능 좋은 컴퓨터를 구현하는 설계의 목적

<br>

![메모리 계층 구성](/OperatingSystem/images/memory2.png)

> 하드디스크의 경우 데이터를 메모리로 이동시켜 접근가능하기 때문에 속도가 낮음

<br>

## 레지스터(Register)

CPU가 요청을 처리하는 데 필요한 데이터를 일시적으로 저장하는 기억장치

- **레지스터 특징**

1. CPU 내부에 존재하는 작은 메모리로, CPU에 가장 빠르게 접근

2. 컴퓨터에서 사용하는 주 기능을 관할하는 공간

3. 접근 속도가 가장 빠르나, 레지스터에 저장되는 데이터는 휘발성을 가지며, 공간이 작고 비쌈

- **레지스터의 종류**

  - 프로그램 카운터(Program Counter) : 다음에 실행할 명령어의 주소를 가짐

  - 누산기(Accumulator) : 연산 결과 데이터를 일시적으로 저장

  - 명령어 레지스터(Instruction Register) : 현재 수행중인 명령어를 가짐

  - 상태 레지스터(Status Register) : 현재 CPU의 상태를 포함

  - 메모리 버퍼 레지스터(Memory Buffer Register) : 메모리부터 읽어온 데이터 또는 메모리에 써야할 데이터를 가짐

  - 입출력 주소 레지스터(I/O Address Register) : 입출력 장치에 따른 입출력 모듈의 주소를 가짐

  - 입출력 버퍼 레지스터(I/O Buffer Register) : 입출력 모듈과 프로세서 간의 데이터 교환을 위해 사용

<br>

## 캐시(Cache)

![캐시](/OperatingSystem/images/memory3.png)

대용량의 메인 메모리 접근을 빠르게 하기 위해 CPU 칩 내부나 바로 옆에 탑재하는 작은 메모리

> 속도가 빠른 장치와 느린 장치 사이에서 속도차에 따른 병목 현상을 줄이기 위한 범용 메모리

- **캐시 특징**

1. 데이터를 미리 복사해놓는 임시 저장소

2. 보통 가격이 비싸고 속도가 빠르지만 용량 대비 크기가 큰 SRAM을 사용

3. L1, L2, L3 캐시로 나눠지며, 레벨이 커질수록 속도는 느려지고 용량이 커짐

   > 데이터를 찾지 못할 경우 순차적으로(L1 → L2 → L3 → DRAM) 탐색

- **캐시 참고 개념**(캐시히트, 캐시미스, 캐시매핑 등)

  https://lincoding.tistory.com/86#%EC%BA%90%EC%8B%9C-1

<br>

## 주기억장치(RAM, ROM)

메인 메모리는 일반적으로 말하는 RAM으로 컴퓨터에서 수치, 명령, 자료 등을 기억하는 장치

- **RAM 특징**

1. 빠른 접근을 위해 데이터를 단기간 저장하는 구성 요소

2. 휘발성 기억장치로 전원 종료 시 내용이 삭제됨
   > 전원이 유지되는 동안 CPU의 연산 및 동작에 필요한 모든 내용 저장

- **ROM 특징**

1. 읽기 전용 메모리로, 데이터를 읽을 수만 있고 수정이 불가능한 메모리

2. 비휘발성 기억장치로 전원이 꺼져도 데이터가 손실되지 않음

   > 주로 시스템의 초기화 및 부팅에 필요한 프로그램 코드, 펌웨어, 시스템 설정 등을 저장

<br>

## 보조기억장치(HDD, SDD)

보조기억장치로 비휘발성 데이터 저장소이며, 용량이 크고 가격이 저렴하지만 위 계층들에 비하면 속도가 느림

> 주로 대용량 데이터 저장과 영구 보존이 필요한 경우에 사용

<br>

### 참고자료

https://noxknow.tistory.com/65

https://rlaehddnd0422.tistory.com/226

https://velog.io/@ajm0718/%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B5%AC%EC%A1%B0
