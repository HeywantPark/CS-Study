# 운영체제 (OS, Operating System)

## 운영체제란?
- 사용자가 컴퓨터를 쉽게 다루게 해주는 인터페이스
- 한정된 메모리나 시스템 자원을 효율적으로 분배
- **펌웨어(Firmware)**: 운영체제와 유사하지만, 소프트웨어를 추가로 설치할 수 없음

---

## 운영체제의 역할 4가지

1. **CPU 스케줄링과 프로세스 관리**
   - CPU 소유권을 어떤 프로세스에 할당할지 결정
   - 프로세스 생성, 삭제, 자원 할당 및 반환 관리

2. **메모리 관리**
   - 한정된 메모리를 어떤 프로세스에 얼마나 할당할지 관리

3. **디스크 파일 관리**
   - 디스크 파일을 저장하고 관리하는 방식 결정

4. **I/O 디바이스 관리**
   - 마우스, 키보드 등 I/O 디바이스와 컴퓨터 간 데이터 송수신 관리

---

## 운영체제의 구조

| **계층**         | **구성 요소**                   | **설명**                                              |
|------------------|--------------------------------|------------------------------------------------------|
| **유저 프로그램** | GUI (그래픽 사용자 인터페이스) | 사용자가 컴퓨터를 다룰 수 있는 그래픽 기반 인터페이스       |
|                  | 시스템콜                       | 유저 프로그램이 운영체제의 커널 기능을 호출할 수 있는 인터페이스 |
| **운영체제**      | 커널                           | 운영체제의 핵심, 시스템 자원 관리 및 시스템콜 처리            |
|                  | 드라이버                       | 하드웨어와 운영체제를 연결하는 소프트웨어                |
| **하드웨어**      |                                | 컴퓨터의 물리적 장치, CPU, 메모리, I/O 디바이스 등      |




- **운영체제**: GUI~드라이버까지를 지칭
- **GUI (그래픽 사용자 인터페이스)**:
  - 사용자가 그래픽 환경에서 컴퓨터를 다루도록 제공
  - GUI 대신 CUI(Command Line Interface)만 있는 리눅스 서버도 존재

---

## 유저모드와 커널모드

### 개념
- **커널**: 중요한 자원을 관리하며, 일반 사용자가 직접 접근하지 못하도록 제한
- **유저모드**: 일반 사용자가 제한된 영역에서 작업 수행
- **커널모드**: 모든 자원에 접근 및 명령 가능

### 유저모드
- 사용자가 접근할 수 있는 제한적인 영역
- 코드 작성, 프로세스 실행 등의 작업 가능
- **유저 어플리케이션 코드**는 유저모드에서 실행

### 커널모드
- 드라이버, 메모리, CPU 등 모든 자원에 접근 및 제어 가능
- 유저모드와 비교할 수 없을 만큼 높은 권한 보유

---

## 시스템콜 (System Call)

### 개념
- 운영체제가 커널에 접근하기 위한 인터페이스
- 유저 프로그램이 운영체제의 서비스를 받기 위해 커널 함수를 호출할 때 사용

### 동작 과정
1. 유저 프로그램이 I/O 요청으로 트랩(Trap) 발동
2. 요청의 유효성을 확인
3. 유효한 요청일 경우 **시스템콜** 호출
4. 호출 시 **modebit**가 변경됨 (1 → 0, 유저모드 → 커널모드)
5. 커널모드에서 요청 로직 처리
6. 처리 완료 후 **modebit**가 변경됨 (0 → 1, 커널모드 → 유저모드)
7. 요청 이후 유저 프로그램의 로직 수행

---

## 트랩 (Trap)
- **소프트웨어 인터럽트**로, 유저 프로그램이 컴퓨터 자원 사용 요청 시 발생
- I/O 요청: 입출력 함수, 데이터베이스, 네트워크, 파일 접근 등

---

## modebit

### 개념
- 유저모드와 커널모드를 구분하는 플래그 변수
- 1: 유저모드, 0: 커널모드

### 역할
- **I/O 디바이스**: 카메라, 키보드 등은 운영체제를 통해서만 작동
- **안전성 보장**: 유저모드에서 직접 작동 시, 의도치 않은 동작을 방지하기 위해 운영체제를 이용

---
